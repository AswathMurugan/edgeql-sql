{
  "tableName": "Account",
  "description": "Banking account table schema with financial and relationship fields",
  "version": "1.0",
  "fields": {
    "id": {
      "type": "INTEGER",
      "nullable": false,
      "primaryKey": true,
      "description": "Unique account identifier"
    },
    "accountNumber": {
      "type": "VARCHAR",
      "length": 50,
      "nullable": false,
      "unique": true,
      "description": "Unique account number"
    },
    "balance": {
      "type": "DECIMAL",
      "precision": 15,
      "scale": 2,
      "nullable": false,
      "defaultValue": 0.00,
      "description": "Current account balance"
    },
    "accountType": {
      "type": "VARCHAR",
      "length": 20,
      "nullable": false,
      "defaultValue": "CHECKING",
      "allowedValues": ["CHECKING", "SAVINGS", "CREDIT", "INVESTMENT"],
      "description": "Type of account"
    },
    "currency": {
      "type": "VARCHAR",
      "length": 3,
      "defaultValue": "USD",
      "description": "Account currency code (ISO 4217)"
    },
    "status": {
      "type": "VARCHAR",
      "length": 20,
      "defaultValue": "ACTIVE",
      "allowedValues": ["ACTIVE", "INACTIVE", "CLOSED", "SUSPENDED"],
      "description": "Account status"
    },
    "isActive": {
      "type": "BOOLEAN",
      "defaultValue": true,
      "description": "Quick active/inactive flag"
    },
    "createdDate": {
      "type": "TIMESTAMP",
      "nullable": false,
      "description": "Account creation timestamp"
    },
    "lastActivity": {
      "type": "TIMESTAMP",
      "description": "Last transaction or activity timestamp"
    },
    "primaryOwnerId": {
      "type": "INTEGER",
      "nullable": false,
      "foreignKey": {
        "table": "User",
        "field": "id",
        "onDelete": "RESTRICT"
      },
      "description": "Primary account owner reference"
    },
    "branchId": {
      "type": "INTEGER",
      "foreignKey": {
        "table": "Branch",
        "field": "id"
      },
      "description": "Associated branch reference"
    },
    "overdraftLimit": {
      "type": "DECIMAL",
      "precision": 15,
      "scale": 2,
      "defaultValue": 0.00,
      "description": "Overdraft limit for account"
    },
    "interestRate": {
      "type": "DECIMAL",
      "precision": 5,
      "scale": 4,
      "description": "Annual interest rate"
    }
  },
  "indexes": [
    {
      "name": "idx_account_number",
      "fields": ["accountNumber"],
      "unique": true
    },
    {
      "name": "idx_primary_owner",
      "fields": ["primaryOwnerId"]
    },
    {
      "name": "idx_status_active",
      "fields": ["status", "isActive"]
    },
    {
      "name": "idx_created_date",
      "fields": ["createdDate"]
    }
  ],
  "constraints": [
    {
      "type": "CHECK",
      "name": "chk_balance_limit",
      "expression": "balance >= -overdraftLimit"
    },
    {
      "type": "CHECK", 
      "name": "chk_interest_rate",
      "expression": "interestRate >= 0 AND interestRate <= 1"
    }
  ]
}